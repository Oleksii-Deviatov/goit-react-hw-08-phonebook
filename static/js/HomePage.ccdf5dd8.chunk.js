(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[2],{172:function(t,n,e){t.exports={card:"styles_card__2pija"}},209:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return T}));var c=e(157),r=e(0),a=e(208),o=e(207),u=e(200),i=e(21),s=e(35),l=function(t){return t.contacts.filter},f=function(t){return t.contacts.contacts},j=function(t){return t.contacts.loading},b=Object(s.a)([f,l],(function(t,n){var e=n.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),d=e(19),h=e.n(d),O=e(29),x=e(22),v=e.n(x),p=e(12),m=e(164),g=(e(171),e(5));var C=Object(i.b)((function(t){return{contacts:f(t)}}),(function(t){return{addContact:function(n){return t((e=n,function(t){t(p.b()),v.a.post("/contacts",e).then((function(n){var e=n.data;return t(p.c(e))})).catch((function(n){return t(p.a(n))}))}));var e}}}))((function(t){var n=t.contacts,e=t.addContact,i=Object(r.useState)(""),s=Object(c.a)(i,2),l=s[0],f=s[1],j=Object(r.useState)(""),b=Object(c.a)(j,2),d=b[0],h=b[1];return Object(g.jsx)("form",{onSubmit:function(t){switch(t.preventDefault(),!0){case""===l:return;case!!n.find((function(t){return t.name.toLowerCase()===l.toLowerCase()})):return void m.b.error("".concat(l," already exist"));default:e({name:l,number:d}),f(""),h("")}},autoComplete:"off",children:Object(g.jsxs)(a.a,{display:"flex",flexDirection:"column",children:[Object(g.jsx)(o.a,{label:"Name",value:l,onChange:function(t){var n=t.target.value;f(n)},margin:"dense",required:!0}),Object(g.jsx)(o.a,{label:"Number",value:d,onChange:function(t){var n=t.target.value;h(n)},margin:"dense"}),Object(g.jsx)(u.a,{variant:"outlined",type:"submit",color:"primary",children:"add contact"})]})})}));var w=Object(i.b)((function(t){return{value:l(t)}}),(function(t){return{onChange:function(n){return t(p.d(n))}}}))((function(t){var n=t.onChange,e=t.value;return Object(g.jsx)("form",{autoComplete:"off",children:Object(g.jsx)(a.a,{display:"flex",flexDirection:"column",children:Object(g.jsx)(o.a,{label:"find contact by name",value:e,onChange:function(t){var e=t.target.value;n(e)},margin:"dense"})})})})),y=e(203),k=e(204),L=e(205),D=e(206),N=e(173),S=e.n(N),_=e(172),F=e.n(_),J=e(202);var P=Object(i.b)(null,(function(t){return{delContact:function(n){return t(function(t){return function(n){n(p.f()),v.a.delete("/contacts/".concat(t)).then((function(){return n(p.g(t))})).catch((function(t){return n(p.e(t))}))}}(n))}}}))((function(t){var n=t.id,e=t.name,c=t.number,r=t.delContact;return Object(g.jsx)(J.a,{disableGutters:!0,children:Object(g.jsx)(y.a,{variant:"outlined",className:F.a.card,children:Object(g.jsx)(k.a,{children:Object(g.jsx)(L.a,{children:Object(g.jsxs)(a.a,{display:"flex",justifyContent:"space-between",children:[Object(g.jsxs)("p",{children:[e,": ",c]}),Object(g.jsx)(D.a,{color:"primary",component:"span",onClick:function(){return r(n)},children:Object(g.jsx)(S.a,{})})]})})})})})})),q=e(201);var B=Object(i.b)((function(t){return{contacts:b(t)}}),(function(t){return{fetchContacts:function(){return t(function(){var t=Object(O.a)(h.a.mark((function t(n){var e,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(p.i()),t.prev=1,t.next=4,v.a.get("/contacts");case 4:e=t.sent,c=e.data,n(p.j(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(p.h(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(n){return t.apply(this,arguments)}}())}}}))((function(t){var n=t.contacts,e=t.fetchContacts;return Object(r.useEffect)((function(){e()}),[]),Object(g.jsx)(q.a,{children:n.map((function(t){var n=t.id,e=t.name,c=t.number;return Object(g.jsx)(P,{id:n,name:e,number:c},n)}))})})),E=e(64),G=e(140),H=e(163);var T=Object(i.b)((function(t){return{isLoading:j(t)}}))((function(t){var n=t.isLoading;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(G.a,{maxWidth:"xs",children:[n&&Object(g.jsx)(E.a,{}),Object(g.jsx)(H.a,{align:"center",variant:"h2",children:"Phonebook"}),Object(g.jsx)(C,{}),Object(g.jsx)(H.a,{align:"center",variant:"h4",children:"Contacts"}),Object(g.jsx)(w,{}),Object(g.jsx)(B,{})]}),Object(g.jsx)(m.a,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}))}}]);
//# sourceMappingURL=HomePage.ccdf5dd8.chunk.js.map